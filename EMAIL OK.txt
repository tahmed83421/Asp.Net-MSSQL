<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Score.aspx.cs" Inherits="BilliardScoreboard.Game.Score" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title>Game Score</title>
    <link rel="stylesheet" href="../css/Game.css" />
    <link href='https://fonts.googleapis.com/css?family=Oswald:700' rel='stylesheet' type='text/css'/>


    <link href="../css/jquery.loader.css" rel="stylesheet" />

    <script src="../js/jquery-2.1.4.min.js"></script>
     <script src="../js/Zoom.js"></script>
    <script src="../js/project/score.js"></script>

      <script src="../js/jquery.loader.js"></script>


    <style type="text/css">
         .ddiv {
  margin: 5px; width: 80px; height: 30px; background: #666; border: 5px solid black; position: relative; 
  }
        .mainTable {
            width: 100%;
            margin: 12px auto;
        }
            .WhitePointTable{
            width: 495px;
            height: 351px;
            border-collapse: collapse;
            margin: 0px auto;
        }
            .WhitePointTable td {
            border: 5px solid #000000;
            background-color:#FFFFFF;
            border-radius: 9px;
            background-clip: padding-box;
            text-align: center;
            font-weight: bold;
            font-size: 18px !important;
            }
             .WhitePointTable td:nth-child(2) {background-color:transparent}
             .WhitePointTable td:nth-child(6) {background-color:transparent}

            .YellowPointTable{
            width: 455px;
            height: 351px;
            border-collapse: collapse;
            margin: 0px auto;
        }
            .YellowPointTable td {
            border: 5px solid #000000;
            background-color:#ff6a00;
            border-radius: 9px;
            background-clip: padding-box;
            text-align: center;
            font-weight: bold;
            font-size: 18px !important;
            }
             .YellowPointTable td:nth-child(2) {background-color:transparent}
             .YellowPointTable td:nth-child(6) {background-color:transparent}

        #counter {
            background-color:transparent; color:white; overflow:hidden; position:relative; width:240px; font-family: 'Oswald', sans-serif;
        }
        .ex1 {
    margin-left: 40cm;
}
            .countdown{
                z-index:1;
                height:475px;
                width:100%;
                position:absolute;
                background:blue;
                left:0px;
                top:100%;
            }
            .countdown2{
                z-index:2;
                height:475px;
                width:100%;
                position:absolute;
                background:red;
                left:0px;
                top:100%;
            }
            .content{
                z-index:9;
                position:relative;
                font-size:60px;
                font-family: 'Oswald', sans-serif;
            }
            .circle{
                width:20px;
                height:20px;
                border-radius:50px;
                font-size:20px;
                color:#fff;
                line-height:100px;
                text-align:center;
                background:#f00;
                margin:0px auto;
            }
        #firstboard {
        position: absolute;
        height: 990px;
        }
        #secondboard {
        position: absolute;
        height: 990px;
        }
        
        .loader{
          width: 175px;
          height: 800px;
          border-radius: 6px;
          border: 1px solid #999;
          background-color: transparent;
          overflow: hidden;
          position: relative;
          display:none;
          margin:100px auto 0px auto;
        }

        .loader.gray{
          background: #999;
        }

        .progress-bar{
          height: 100%;
          width: 100%;
          top:100%;
          border-radius: inherit;
          position: absolute;
          overflow: hidden;
        }

        .progress-stripes{
          width: inherit;
          height: inherit;
          font-size: 200px;
          font-weight: bold;
          letter-spacing: -28px;
        }

        .percentage{
            position:relative;
            top:80%;
         text-align:center;
          font-size: 60pt;
          width:100%;
          z-index:1;
          font-family:Arial;
        }



        /***************************************/
        /* BELOW HERE IS SOLELY FOR AESTHETICS */
        /*_____________________________________*/

        /*** COLOR SCHEMES ***/

        /* RED */
        .red .progress-bar{
          background: #e74c3c;
        }
        .red .progress-stripes{
          color: #c0392b;
        }
        .red .percentage{
          color: #eee;
        }

        /* BLUE */
        .blue .progress-bar{
          background: #3498db;
        }
        .blue .progress-stripes{
          color: #2980b9;
        }
        .blue .percentage{
          color: #eee;
        }
        /*** LOADED ***/

        span.loaded.red{
          color: #c0392b;
        }

        span.loaded.blue{
          color: #2980b9;
        }

        /*** History details ***/
        #hover{
          position:fixed;
          background:#1F3948;
          width:100%;
          height:100%;
          opacity: .8;
        }

        #popup{
          position:relative;
          width:300px;
          height:400px;
          background:#000;
          color:#FFFFFF;
          top:300px;
          border-radius:5px;
          padding:5px 0;
          margin:0px auto; /* height/2 + padding-top */
          text-align:center;
          box-shadow:0 0 10px 0 #000;
          overflow-y:scroll;
        }

        #close{
          position:absolute;
          background:red;
          color:white;
          right:0px;
          top:0px;
          border-radius:50%;
          width:30px;
          height:30px;
          line-height:30px;
          text-align:center;
          font-size:8px;
          font-weight:bold;
          font-family:'Arial Black', Arial, sans-serif;
          cursor:pointer;
          box-shadow:0 0 10px 0 #F00;
        }

        #resulthover{
          position:fixed;
          background:#1F3948;
          width:100%;
          height:100%;
          opacity: .8;
        }

        #resultpopup{
          position:relative;
          width:300px;
          height:300px;
          background:#000;
          color:#FFFFFF;
          top:300px;
          border-radius:5px;
          padding:5px 0;
          margin:0px auto; /* height/2 + padding-top */
          text-align:center;
          box-shadow:0 0 10px 0 #000;
          overflow-y:scroll;
          z-index:1;
        }

        #resultclose{
          position:relative;
          background:red;
          color:white;
          margin:0px auto;
          bottom:0px;
          width:100px;
          height:30px;
          line-height:30px;
          text-align:center;
          font-size:14px;
          font-family:'Arial Black', Arial, sans-serif;
          cursor:pointer;
        }
        /*
 *  STYLE 3
 */

    #popup::-webkit-scrollbar-track
    {
	    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
	    background-color: #000000;
    }

    #popup::-webkit-scrollbar
    {
	    width: 6px;
	    background-color: #FF0000;
    }

    #popup::-webkit-scrollbar-thumb
    {
	    background-color: #FF0000;
    }
    #resultpopup::-webkit-scrollbar-track
    {
	    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
	    background-color: #000000;
    }

    #resultpopup::-webkit-scrollbar
    {
	    width: 6px;
	    background-color: #FF0000;
    }

    #resultpopup::-webkit-scrollbar-thumb
    {
	    background-color: #FF0000;
    }
    </style>

    <script type="text/javascript">
        var spc = '';
        var cal = '';
        var enteredvalue = '';
        var startgame = '';
        var gamewin = '';
        var passboard = '';
        var pl1 = 0;
        var pl2 = 0;
        var cnt = 0;
        var myVar;
        var myVar1;
        var exchang;
        var ppoint1;
        var ppoint2;
        var sb=1;
    
   

       
        '<%Session["exchange"] = "' + 0 + '"; %>';
        var caromcheck = '';
        var memory = new Array;
        var store1 = new Array;
        var store2 = new Array;
        var store3 = new Array;
        var x;
     



        function stateChange(board) {
            if (startgame == 'start') {
                 exchang = document.getElementById("exarrow").value;

                if (exchang == '0') {
                    exchang = 2;
                    document.getElementById("exarrow").value = 2;
                    x = 500;

                    if (board == 'first') {
                        document.getElementById("uparrow1").style.backgroundColor = "green";
                        $("#uparrow1").fadeIn(x).fadeOut(x).fadeIn(x).fadeOut(x).fadeIn(x).fadeOut(x).fadeIn(x).fadeOut(x).fadeIn(x);
                        myVar = setTimeout(function () {
                            if (exchang == 2) {
                                
                                document.getElementById("uparrow1").style.backgroundColor = "#FFFFFF";

                                arrowcalculation('first');

                                document.getElementById("exarrow").value = 0;
                            }
                        }, 5000);

                    }
                    else if (board == 'second') {
                        document.getElementById("uparrow2").style.backgroundColor = "green";
                        $("#uparrow2").fadeIn(500).fadeOut(500).fadeIn(500).fadeOut(500).fadeIn(500).fadeOut(500).fadeIn(500).fadeOut(500).fadeIn(500);
                        myVar1 = setTimeout(function () {
                            if (exchang == 2) {
                                document.getElementById("uparrow2").style.backgroundColor = "#FF6A00";

                                arrowcalculation('second');
                                document.getElementById("exarrow").value = 0;

                            }
                        }, 5000);

                    }
                }

                else if (exchang == 2) {

                    exchang = 0;
                    if (board == 'first') {

                        clearTimeout(myVar);
                        $(this).find("uparrow1").stop(true, true).fadeOut();
                        document.getElementById("uparrow1").style.backgroundColor = "#FFFFFF";
                       
                        document.getElementById("exarrow").value = 0;
                    }
                    else if (board == 'second') {
                        clearTimeout(myVar1);
                        document.getElementById("uparrow2").style.backgroundColor = "#FF6A00";
                    
                        document.getElementById("exarrow").value = 0;

                    }
                  
                }


            }
        }

        function ScoreCalculation1(board) {
            if (startgame == 'start')
            {
                document.getElementById("uparrow1").disabled = false;
                document.getElementById("uparrow2").disabled = false;

                var exch = document.getElementById("exchangestate").value;
                if (exch == 0) {
                   
  
                    enteredvalue = lblTeamScore1.innerHTML;
                    caromcheck = lblTeamScore1.innerHTML;
                    if (selectedaction != '') {
                        var prev = lblPrev1.innerHTML.substring(0, lblPrev1.innerHTML.length - 1);
                        lblTeamScore2.innerHTML = eval(lblTeamScore2.innerHTML + selectedaction + lblTeamScore1.innerHTML);
                        lblTeamScore1.innerHTML = prev;
                        selectedaction = '';
                    }
                    else {
                        var totalcal1 = lblPrev1.innerHTML + lblTeamScore1.innerHTML;
                        lblTeamScore1.innerHTML = eval(totalcal1);
                    }
                    var point = '<%= Session["Point"] %>';
                    ppoint1 = eval(point - lblTeamScore1.innerHTML);
                    lblp1.innerHTML = "p" + (eval(point - lblTeamScore1.innerHTML));

                    if (parseInt(lblTeamScore1.innerHTML) > parseInt(point)) {
                        var set = lbls1.innerHTML;
                        var resultset = set.substr(1, 1);
                        lbls1.innerHTML = "s" + (eval(parseInt(resultset) + 1)) + "/" + '<%= Session["Set"] %>';
                       
                    }

                    var tick = lblt1.innerHTML;
                    var result = tick.substr(1);
                    if ('<%= Session["Game"] %>' == 'Italian') {
                        lblt1.innerHTML = "t" + (eval(parseInt(result) + 1));
                    }
                    else if ('<%= Session["Game"] %>' == 'Carom') {
                        lblt1.innerHTML = "i" + (eval(parseInt(result) + 1));
                    }
                    cnt = cnt + 1;
                    memory.push(cal + '&nbsp;' + enteredvalue + '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t' + cnt + '&nbsp;&nbsp;&nbsp;&nbsp;' + lblp1.innerHTML + '&nbsp;&nbsp;&nbsp;&nbsp;' + lbls1.innerHTML + '||' + 'white');
                    store1.push(enteredvalue);
                    lblPrev1.innerHTML = '';
                 
                    
                    store2.push('<font  color=#FFA500>' + cal + '&nbsp;' + enteredvalue + cnt + lblp1.innerHTML + lbls1.innerHTML + "W"+'</font>');
                    

                    if ('<%= Session["Game"] %>' == 'Italian') {
                        document.getElementById('secondboard').style.width = '0px';
                        document.getElementById('firstboard').style.width = '900px';
                        document.getElementById('firstboard').style.backgroundColor = '#000000';
                        document.getElementById('firstboard').style.opacity = '0.4';

                        time2 = parseInt('<%= Session["Timer2"] %>');
                        time1 = parseInt('<%= Session["Timer1"] %>');
                        document.getElementById('mainloader').style.display = 'none';
                        $('.progress-bar').animate({ top: '100%' }, 1);
                        time = 0;
                        var spc = '';
                        timerStart(board);
                    }
                    else if ('<%= Session["Game"] %>' == 'Carom') {
                        if (parseInt(caromcheck) == 0) {
                            document.getElementById('secondboard').style.width = '0px';
                            document.getElementById('firstboard').style.width = '900px';
                            document.getElementById('firstboard').style.backgroundColor = '#000000';
                            document.getElementById('firstboard').style.opacity = '0.4';

                            time2 = parseInt('<%= Session["Timer2"] %>');
                            time1 = parseInt('<%= Session["Timer1"] %>');
                            document.getElementById('mainloader').style.display = 'none';
                            $('.progress-bar').animate({ top: '100%' }, 1);
                            time = 0;
                            var spc = '';
                            timerStart(board);
                        }
                    }


                    if (parseInt(lblTeamScore1.innerHTML) > parseInt(point)) {
                        lblWoS.innerHTML = 'Winner of Set';
                        lblName.innerHTML = lblPlayer1.innerHTML;
                        lblName1.innerHTML = lblPlayer2.innerHTML;
                        lblPoint.innerHTML = 'Point ' + lblTeamScore1.innerHTML + ' to ' + lblTeamScore2.innerHTML;
                        stopprogress();

                        if (parseInt('<%= Session["Set"] %>') > 0) {
                            pl1 = pl1 + 1;
                            if (parseInt('<%= Session["Set"] %>') / 2 < pl1) {

                                var winpnt = document.getElementById("lblTeamScore1").innerHTML;
                                var losepnt = document.getElementById("lblTeamScore2").innerHTML;
                                var losepl1 = lblPlayer3.innerHTML;
                                var losepl2 = lblPlayer4.innerHTML;
                                var Cl1 = lblClub1.innerHTML;
                                var Cl2 = lblClub2.innerHTML;
                                var Cl3 = lblClub3.innerHTML;
                                var Cl4 = lblClub4.innerHTML;
                                var set = '<%= Session["Set"] %>';
                                var totalTime = document.getElementById("lblTime").innerHTML;
                                var quill = '<%= Session["lblpins"] %>';

                                stopprogress();
                                $("#resultclose").html('Setup Page');
                                lblWoS.innerHTML = 'Winner of the Game';
                                lblName.innerHTML = lblPlayer1.innerHTML;
                                lblName1.innerHTML = lblPlayer2.innerHTML;
                                lblPoint.innerHTML = pl1 + ' Sets to ' + pl2 + ' Set';
                                lblSet.innerHTML = 'last Set ' + lblTeamScore1.innerHTML + ' to ' + lblTeamScore2.innerHTML + ' points'
                                $("#resultclose").click(function () {
                                   
                                    var str2 = "<u>Result set 1</u><br>";
                                    var str1 = "<u>ResultSet 1</u><br>";
                                 
                                    for (var i in store2)
                                    {
                                        var clr = store2[i].substring(0, 21);
                                        var frst = store2[i].substring(21, 22);
                                        var news = store2[i].substring(28, store2[i].length);
                                        var scr = news.substring(0, news.indexOf('p') - 1);
                                        var plyr = news.substring(news.indexOf('p') - 1, news.indexOf('p'));
                                        var sett = news.substring(news.indexOf('s'), news.length);
                                        var end = news.substring(news.indexOf('p'), news.indexOf('s'));

                                        var ne = news.substring(news.indexOf('s') + 1, news.indexOf('/'));
                                        var ner = news.substring(news.indexOf('p')+1, news.indexOf('p')+2);

                                        
                                        
                                        str1 = str1 + clr +'<br>'+ frst + scr + "&nbsp;&nbsp;" + " t" + plyr + " " + "  " + end + "    " + sett  + '<br>';
                                        
                                            if (ner == '-') {
                                                sb = sb + 1;
                                                str1 = str1 + "<br><u>Result set" + sb +"</u><br>";


                                            }
                                        
                                        

                                           // str2 =  frst + scr + "&nbsp;&nbsp;" + " t" + plyr + " " + "  " + end + "    " + sett + '<br>';
                                        
                                       
                                      
                                    }
                                        
                                     
                                    
                                    alert(str1);

                                 


                                   PageMethods.SomeMethod(str1,point, lblName.innerHTML, lblName1.innerHTML, OnSuccess);

                                    function OnSuccess(res) {
                                        /*
                                        var str = "Result\n";
                                        for (var i in res) {
                                            var frst = res[i].substring(0, 1);
                                            var news = res[i].substring(7, res[i].length);
                                            var scr = news.substring(0, news.indexOf('p') - 1);
                                            var plyr = news.substring(news.indexOf('p') - 1, news.indexOf('p'));
                                            var end = news.substring(news.indexOf('p'), news.length);
                                            str = str + frst+scr+" t"+plyr+" "+end+ "\n";
                                            //str.concat(res[i].toString());
//                                            alert(res[i].toString());
                                        }
                                        alert(str+"\n"+winners);
                                    */
                                        alert("Mail Sent to" + res);
                                        window.location = "SetUp.aspx";
                                    }
                                   // window.location = "SetUp.aspx";
                                });
                            }
                            else {
                                stopprogress();
                                $("#resultclose").html('Next Set');
                                passboard = 'second';
                                if ('<%= Session["Game"] %>' == 'Italian') {
                                    lblt1.innerHTML = 't0';
                                    lblt2.innerHTML = 't0';
                                    lblp1.innerHTML = "p" + '<%= Session["Point"] %>';
                                    lblp2.innerHTML = "p" + '<%= Session["Point"] %>';
                                }
                                else if ('<%= Session["Game"] %>' == 'Carom') {
                                    lblt1.innerHTML = 'i0';
                                    lblt2.innerHTML = 'i0';
                                    lblp1.innerHTML = "c" + '<%= Session["Point"] %>';
                                    lblp2.innerHTML = "c" + '<%= Session["Point"] %>';
                                }
                                lblTeamScore1.innerHTML = '0';
                                lblTeamScore2.innerHTML = '0';
                                if (pl1 == pl2) {
                                    document.getElementById('firstboard').style.width = '0px';
                                    document.getElementById('secondboard').style.width = '0px';
                                    lblStageStat.innerHTML = "Referee must start the last set";
                                }
                      
                            }
                        }
                        else {
                            $("#resultclose").html('New Set');
                        }

                        $("#resulthover").fadeIn();
                        $("#resultpopup").fadeIn();
                        $("#resultclose").fadeIn();
                    }
                }
                else if (exch == 1)
                {
                    document.getElementById('pl1arrow').style.backgroundColor = '#FFFFFF';
                    document.getElementById("exchangestate").value = 0;
                    exchangepoints('first');
                }
               
                    
            }
        }
     

        function ScoreCalculation2(board) {
            if (startgame == 'start') {
                var exch = document.getElementById("exchangestate").value;
                if (exch == 0) {
                    lastv2 = lblTeamScore2.innerHTML;
                    enteredvalue = lblTeamScore2.innerHTML;
                    caromcheck = lblTeamScore2.innerHTML;
                    if (selectedaction != '') {
                        var prev = lblPrev2.innerHTML.substring(0, lblPrev2.innerHTML.length - 1);
                        lblTeamScore1.innerHTML = eval(lblTeamScore1.innerHTML + selectedaction + lblTeamScore2.innerHTML);
                        lblTeamScore2.innerHTML = prev;
                        selectedaction = '';
                    }
                    else {
                        var totalcal2 = lblPrev2.innerHTML + lblTeamScore2.innerHTML;
                        lblTeamScore2.innerHTML = eval(totalcal2);
                    }
                    var point = '<%= Session["Point"] %>';
                    ppoint2 = eval(point - lblTeamScore2.innerHTML);
                  
                    lblp2.innerHTML = "p" + (eval(point - lblTeamScore2.innerHTML));
                   

                    if (parseInt(lblTeamScore2.innerHTML) > parseInt(point)) {
                        var set = lbls2.innerHTML;
                        var resultset = set.substr(1, 1);
                        lbls2.innerHTML = "s" + (eval(parseInt(resultset) + 1)) + "/" + '<%= Session["Set"] %>';
                        
                    }

                    var tick = lblt2.innerHTML;
                    var result = tick.substr(1);
                    lblt2.innerHTML = "t" + (eval(parseInt(result) + 1));
                    cnt = cnt + 1;
                    memory.push(cal + '&nbsp;' + enteredvalue + '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t' + cnt + '&nbsp;&nbsp;&nbsp;&nbsp;' + lblp2.innerHTML + '&nbsp;&nbsp;&nbsp;&nbsp;' + lbls2.innerHTML + '||' + 'darkorange');

                    store2.push('<font  color=#000000>' + cal + '&nbsp;' + enteredvalue + cnt + lblp2.innerHTML + lbls2.innerHTML + "Y"+'</font>');

                    store3.push(enteredvalue);
                    lblPrev2.innerHTML = '';
                   

                    if ('<%= Session["Game"] %>' == 'Italian') {
                        document.getElementById('firstboard').style.width = '0px';
                        document.getElementById('secondboard').style.width = '900px';
                        document.getElementById('secondboard').style.backgroundColor = '#000000';
                        document.getElementById('secondboard').style.opacity = '0.4';

                        CCOUNT = parseInt('<%= Session["Timer1"] %>');
                        count = parseInt('<%= Session["Timer1"] %>');
                        document.getElementById('mainloader').style.display = 'none';
                        $('.progress-bar').animate({ top: '100%' }, 1);
                        time = 0;
                        var spc = '';
                        timerStart(board);
                    }
                    else if ('<%= Session["Game"] %>' == 'Carom') {
                        if (parseInt(caromcheck) == 0) {
                            document.getElementById('firstboard').style.width = '0px';
                            document.getElementById('secondboard').style.width = '900px';
                            document.getElementById('secondboard').style.backgroundColor = '#000000';
                            document.getElementById('secondboard').style.opacity = '0.4';

                            CCOUNT = parseInt('<%= Session["Timer1"] %>');
                            count = parseInt('<%= Session["Timer1"] %>');
                            document.getElementById('mainloader').style.display = 'none';
                            $('.progress-bar').animate({ top: '100%' }, 1);
                            time = 0;
                            var spc = '';
                            timerStart(board);
                        }
                    }


                    if (parseInt(lblTeamScore2.innerHTML) > parseInt(point)) {
                        lblWoS.innerHTML = 'Winner of Set';
                        lblName.innerHTML = lblPlayer3.innerHTML;
                        lblName1.innerHTML = lblPlayer4.innerHTML;
                        lblPoint.innerHTML = 'Point ' + lblTeamScore2.innerHTML + ' to ' + lblTeamScore1.innerHTML;
                        stopprogress();

                        if (parseInt('<%= Session["Set"] %>') > 0) {
                            pl2 = pl2 + 1;
                            if (parseInt('<%= Session["Set"] %>') / 2 < pl2) {
                                  var winpnt = document.getElementById("lblTeamScore1").innerHTML;
                                var losepnt = document.getElementById("lblTeamScore2").innerHTML;
                                var losepl1 = lblPlayer3.innerHTML;
                                var losepl2 = lblPlayer4.innerHTML;
                                var Cl1 = lblClub1.innerHTML;
                                var Cl2 = lblClub2.innerHTML;
                                var Cl3 = lblClub3.innerHTML;
                                var Cl4 = lblClub4.innerHTML;
                                var set = '<%= Session["Set"] %>';
                                var totalTime = document.getElementById("lblTime").innerHTML;
                                var quill = '<%= Session["lblpins"] %>';
                                stopprogress();
                                $("#resultclose").html('Setup Page');
                                lblWoS.innerHTML = 'Winner of the Game';
                                lblName.innerHTML = lblPlayer3.innerHTML;
                                lblPoint.innerHTML = pl2 + ' Sets to ' + pl1 + ' Set';
                                lblSet.innerHTML = 'last Set ' + lblTeamScore2.innerHTML + ' to ' + lblTeamScore1.innerHTML + ' points'
                                $("#resultclose").click(function () {
                                    var str2 = "<u>Result set 1</u><br>";
                                    var str1 = "ResultSet0";

                                    for (var i in store2) {
                                        var clr = store2[i].substring(0, 21);
                                        var frst = store2[i].substring(21, 22);
                                        var news = store2[i].substring(28, store2[i].length);
                                        var scr = news.substring(0, news.indexOf('p') - 1);
                                        var plyr = news.substring(news.indexOf('p') - 1, news.indexOf('p'));
                                        var sett = news.substring(news.indexOf('s'), news.length);
                                        var end = news.substring(news.indexOf('p'), news.indexOf('s'));

                                        var ne = news.substring(news.indexOf('s') + 1, news.indexOf('/'));
                                        var ner = news.substring(news.indexOf('p') + 1, news.indexOf('p') + 2);

                                    
                                        str1 = str1+clr  + "<br>" + frst + scr + "&nbsp;&nbsp;" + " t" + plyr + " " + "  " + end + "    " + sett  + '<br>';
                                    

                                       
                                         if ( ner == '-') {
                                            sb = sb+ 1;
                                            
                                            str1 = str1 + "<br><u>Result set" + sb + "</u><br>";

                                        }
                                       
                                    }



                                    alert(ner);




                                    PageMethods.SomeMethod(str1, str2, point, set, lblName.innerHTML, lblName1.innerHTML, time1, time2, winpnt, losepnt, quill, totalTime, losepl1, losepl2, Cl1, Cl2, Cl3, Cl4, OnSuccess);

                                    function OnSuccess(res) {
                                       
                                        alert("Mail Sent to" + res);
                                        window.location = "SetUp.aspx";
                                    }
                                    // window.location = "SetUp.aspx";
                                });
                            }
                            else {
                                stopprogress();
                                $("#resultclose").html('Next Set');
                                passboard = 'first';
                                if ('<%= Session["Game"] %>' == 'Italian') {
                                    lblt1.innerHTML = 't0';
                                    lblt2.innerHTML = 't0';
                                    lblp1.innerHTML = "p" + '<%= Session["Point"] %>';
                                    lblp2.innerHTML = "p" + '<%= Session["Point"] %>';
                                }
                                else if ('<%= Session["Game"] %>' == 'Carom') {
                                    lblt1.innerHTML = 'i0';
                                    lblt2.innerHTML = 'i0';
                                    lblp1.innerHTML = "c" + '<%= Session["Point"] %>';
                                    lblp2.innerHTML = "c" + '<%= Session["Point"] %>';
                                }
                                lblTeamScore1.innerHTML = '0';
                                lblTeamScore2.innerHTML = '0';
                                if (pl1 == pl2) {
                                    document.getElementById('firstboard').style.width = '0px';
                                    document.getElementById('secondboard').style.width = '0px';
                                    lblStageStat.innerHTML = "Referee must start the last set";
                                }
                            }
                        }
                        else {
                            $("#resultclose").html('New Set');
                        }

                        $("#resulthover").fadeIn();
                        $("#resultpopup").fadeIn();
                        $("#resultclose").fadeIn();
                    }

                }
                else {
                    document.getElementById('pl2arrow').style.backgroundColor = 'darkorange';
                    document.getElementById("exchangestate").value = 0;
                    exchangepoints('second');
                }
            }
        }
        function reset1() {
            location.reload();
        }
        function resetscore1() {
            var str = document.getElementById('lblTeamScore1').innerHTML;
            if (str.length > 0) {
                document.getElementById('lblTeamScore1').innerHTML = str.substring(0, str.length - 1);
            }
        }
        function resetscore2() {
            var str = document.getElementById('lblTeamScore2').innerHTML;
            if (str.length > 0) {
                document.getElementById('lblTeamScore2').innerHTML = str.substring(0, str.length - 1);
            }
        }
        
        var exchange = 0;
        var keyboard;
        var time=0;
        var CCOUNT = parseInt('<%= Session["Timer1"] %>');
        var t, total1 = 0, total2 = 0;
        var count = parseInt('<%= Session["Timer1"] %>');
        function cddisplay() {
            // displays time in span
            if (count >= 0) {
                document.getElementById('lblTimeRemaining').innerHTML = count + '"';
            }
        };
        function countdown() {
            // starts countdown
            cddisplay();
            if (count < 0) {
                // First time is up 
                if (time == 0) {
                    time++;
                    secondtimerStart();
                }
            }
            else {
                count--;
                t = setTimeout("countdown()", 1000);
            }
        };

        function timerStart(board) {
            lblStageStat.innerHTML = "";
            startgame = 'start';
            keyboard = board;
            time2 = parseInt('<%= Session["Timer2"] %>');
            time1 = parseInt('<%= Session["Timer1"] %>');
            document.getElementById('<%=imgLogo.ClientID%>').style.display = 'none';
            countdownstart('blue');
            document.getElementById('mainloader').style.display = 'block';
            if (board == "first") {
                //document.getElementById('firstboard').style.width = '0px';
                //document.getElementById('secondboard').style.width = '500px';
                //document.getElementById('secondboard').style.backgroundColor = '#000000';
                //document.getElementById('secondboard').style.opacity = '0.4';
                if ('<%= Session["Game"] %>' == 'Italian') {
                    document.getElementById('firstboard').style.width = '0px';
                    document.getElementById('secondboard').style.width = '990px';
                    document.getElementById('secondboard').style.backgroundColor = '#000000';
                    document.getElementById('secondboard').style.opacity = '0.4';
                }
                else if ('<%= Session["Game"] %>' == 'Carom') {
                    if (parseInt(caromcheck) == 0) {
                        document.getElementById('firstboard').style.width = '0px';
                        document.getElementById('secondboard').style.width = '900px';
                        document.getElementById('secondboard').style.backgroundColor = '#000000';
                        document.getElementById('secondboard').style.opacity = '0.4';
                    }
                }
            }
            if (board == "second") {
                //document.getElementById('secondboard').style.width = '0px';
                //document.getElementById('firstboard').style.width = '500px';
                //document.getElementById('firstboard').style.backgroundColor = '#000000';
                //document.getElementById('firstboard').style.opacity = '0.4';
                if ('<%= Session["Game"] %>' == 'Italian') {
                    document.getElementById('secondboard').style.width = '0px';
                    document.getElementById('firstboard').style.width = '900px';
                    document.getElementById('firstboard').style.backgroundColor = '#000000';
                    document.getElementById('firstboard').style.opacity = '0.4';
                }
                else if ('<%= Session["Game"] %>' == 'Carom') {
                    if (parseInt(caromcheck) == 0) {
                        document.getElementById('secondboard').style.width = '0px';
                        document.getElementById('firstboard').style.width = '900px';
                        document.getElementById('firstboard').style.backgroundColor = '#000000';
                        document.getElementById('firstboard').style.opacity = '0.4';
                    }
                }
            }
        }
        function secondtimerStart() {
            CCOUNT = parseInt('<%= Session["Timer2"] %>');
            count = parseInt('<%= Session["Timer2"] %>');
            countdown();
            document.getElementById('countdown').style.top = '100%';
            document.getElementById('countdown').style.display = 'none';
            $('.countdown2').animate({ top: '0' }, (parseInt('<%= Session["Timer2"] %>') * 1000));
        }

        $(document).ready(function () {
            $('#tosetup1').click(function (e) {
                window.location = "SetUp.aspx";
            });
            $('#tosetup2').click(function (e) {
                window.location = "SetUp.aspx";
            });
        });

      



        function exchangestart(board)
        {
            
            if (startgame == 'start') {
                var exchange = document.getElementById("exchangestate").value;
                
                if (exchange == '0') {
                    exchange = 1;
                    document.getElementById("exchangestate").value = 1;
                    if (board == 'first')
                        document.getElementById('pl1arrow').style.backgroundColor = '#338DFF';
                    else if (board == 'second')
                        document.getElementById('pl2arrow').style.backgroundColor = '#338DFF';

                }

                else if (exchange == 1) {

                    exchange = 0;
                    if (board == 'first')
                        document.getElementById('pl1arrow').style.backgroundColor = '#FFFFFF';
                    else if (board == 'second')
                        document.getElementById('pl2arrow').style.backgroundColor = 'darkorange';
                    document.getElementById("exchangestate").value = 0;
                }
            }
        }

        function arrowcalculation(board) {
            var state = memory[memory.length - 1].substring(0,1);
            //alert(state);
            /*
            if (state == '&' && board == 'first') {

                alert("exchange");
                var leng = store3.length;
                var leng2 = store1.length;
                lblTeamScore2.innerHTML = "prev";
                lblTeamScore1.innerHTML = "prev";

            }*/
           
                if (board == 'first') {
                    
                    document.getElementById("uparrow2").disabled = true;

                    if (state == '&')
                    {
                        var leng = store3.length;
                        var leng2 = store1.length;


                        timerStart('second');
                        var total = '<%= Session["Point"] %>';
                        memory.pop();

                        if (leng == 0 || leng2 == 0) {
                            //alert("Error");
                            lblTeamScore1.innerHTML = "0";
                            lblTeamScore2.innerHTML = "0";
                            lblt1.innerHTML = "t0";
                            lblt2.innerHTML = "t0";
                            lblp1.innerHTML = "p" + total;
                            lblp2.innerHTML = "p" + total;
                        }
                        else {

                            lblTeamScore2.innerHTML = eval(lblTeamScore2.innerHTML + '+' + store3[leng - 1]);
                            lblTeamScore1.innerHTML = eval(lblTeamScore1.innerHTML - store1[leng2 - 1]);
                            //alert("done" + store3[leng - 1] + "\n" + store1[leng2 - 1]);
                            var lblpoint1 = eval(total - lblTeamScore1.innerHTML);
                            lblp1.innerHTML = "p" + lblpoint1;
                            var lblpoint2 = eval(total - lblTeamScore2.innerHTML);
                            lblp2.innerHTML = "p" + lblpoint2;
                        }
                       // alert(store1);
                    }
                  

                    else if (startgame == 'start' ) {
                   var leng = store3.length;
                   alert("second if");
                   lblTeamScore2.innerHTML = eval(lblTeamScore2.innerHTML - store3[leng - 1]);
                   //var yy = eval(ppoint1 + store1[leng - 1]);
                   board = 'second';

                   var point3 = store3[leng - 1];
                   var baa = eval(parseInt(ppoint2) + parseInt(point3));
                var point = '<%= Session["Point"] %>';
                   lblp2.innerHTML = "p" + baa;
                   ppoint2 = baa;

              

                var tick = lblt2.innerHTML;
                var result = tick.substr(1);
                if ('<%= Session["Game"] %>' == 'Italian') {
                    lblt2.innerHTML = "t" + (eval(parseInt(result) - 1));
                }
                else if ('<%= Session["Game"] %>' == 'Carom') {
                    lblt2.innerHTML = "i" + (eval(parseInt(result) + 1));
                }
                   cnt = cnt - 1;
                   memory.pop();
                   store3.pop();
                //memory.push('&nbsp;' + "@" + lblTeamScore2.innerHTML + '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t' + cnt + '&nbsp;&nbsp;&nbsp;&nbsp;' + lblp1.innerHTML + '&nbsp;&nbsp;&nbsp;&nbsp;' + lbls1.innerHTML + '||' + 'darkorange');
                //lblPrev2.innerHTML = '';
               // store1.push(lblTeamScore2.innerHTML);
                  

                if ('<%= Session["Game"] %>' == 'Italian') {
                    document.getElementById('secondboard').style.width = '0px';
                        document.getElementById('firstboard').style.width = '900px';
                        document.getElementById('firstboard').style.backgroundColor = '#000000';
                        document.getElementById('firstboard').style.opacity = '0.4';

                        time2 = parseInt('<%= Session["Timer2"] %>');
                    time1 = parseInt('<%= Session["Timer1"] %>');
                    stopprogress();
                    
                        document.getElementById('mainloader').style.display = 'none';
                        $('.progress-bar').animate({ top: '100%' }, 1);
                        time = 0;
                        var spc = '';
                       
                        timerStart(board);
              
                }
                else if ('<%= Session["Game"] %>' == 'Carom') {
                    if (parseInt(caromcheck) == 0) {
                        document.getElementById('secondboard').style.width = '0px';
                        document.getElementById('firstboard').style.width = '900px';
                        document.getElementById('firstboard').style.backgroundColor = '#000000';
                        document.getElementById('firstboard').style.opacity = '0.4';

                        time2 = parseInt('<%= Session["Timer2"] %>');
                        time1 = parseInt('<%= Session["Timer1"] %>');
                        document.getElementById('mainloader').style.display = 'none';
                        $('.progress-bar').animate({ top: '100%' }, 1);
                        time = 0;
                        var spc = '';
                       
                        timerStart(board);
                    }
                }


            }




                }
          
                else if (board == 'second') {

                  

                    document.getElementById("uparrow1").disabled = true;
                    //alert("second board");

                    if (state == '&') {
                        var leng = store3.length;
                        var leng2 = store1.length;
                        timerStart('first');
                        var total = '<%= Session["Point"] %>';
                        memory.pop();

                        if (leng == 0 || leng2 == 0) {
                            //alert("Error");
                            lblTeamScore1.innerHTML = "0";
                            lblTeamScore2.innerHTML = "0";
                            lblt1.innerHTML = "t0";
                            lblt2.innerHTML = "t0";
                            lblp1.innerHTML = "p" + total;
                            lblp2.innerHTML = "p" + total;
                        }
                        else {
                        lblTeamScore1.innerHTML = eval(lblTeamScore1.innerHTML + '+' + store1[leng2 - 1]);
                        lblTeamScore2.innerHTML = eval(lblTeamScore2.innerHTML - store3[leng - 1]);
                        //alert("done" + store3[leng - 1] + "\n" + store1[leng2 - 1]);
                        //alert(store3);
                        var lblpoint1 = eval(total - lblTeamScore1.innerHTML);
                        lblp1.innerHTML = "p" + lblpoint1;
                        var lblpoint2 = eval(total - lblTeamScore2.innerHTML);
                        lblp2.innerHTML = "p" + lblpoint2;

                        }
                    }
                    else if (startgame == 'start' ) {
                   var leng = store1.length;

                   lblTeamScore1.innerHTML = eval(lblTeamScore1.innerHTML - store1[leng - 1]);
                  
                   board = 'first';

                   var point = store1[leng - 1];
                   var baa = eval(parseInt(point) + parseInt(ppoint1));
                   lblp1.innerHTML = "p" + baa;
                   ppoint1 = baa;

                var tick = lblt1.innerHTML;
                var result = tick.substr(1);
                if ('<%= Session["Game"] %>' == 'Italian') {
                    lblt1.innerHTML = "t" + (eval(parseInt(result) - 1));
                }
                else if ('<%= Session["Game"] %>' == 'Carom') {
                    lblt1.innerHTML = "i" + (eval(parseInt(result) + 1));
                }
                   cnt = cnt - 1;
                   memory.pop();
                   store1.pop();
                  

                if ('<%= Session["Game"] %>' == 'Italian') {
                    document.getElementById('secondboard').style.width = '0px';
                        document.getElementById('firstboard').style.width = '900px';
                        document.getElementById('firstboard').style.backgroundColor = '#000000';
                        document.getElementById('firstboard').style.opacity = '0.4';

                        time2 = parseInt('<%= Session["Timer2"] %>');
                    time1 = parseInt('<%= Session["Timer1"] %>');
                    
                    stopprogress();
                        document.getElementById('mainloader').style.display = 'none';
                        $('.progress-bar').animate({ top: '100%' }, 1);
                        time = 0;
                        var spc = '';
                       
                        timerStart(board);
              
                }
                else if ('<%= Session["Game"] %>' == 'Carom') {
                    if (parseInt(caromcheck) == 0) {
                        document.getElementById('secondboard').style.width = '0px';
                        document.getElementById('firstboard').style.width = '900px';
                        document.getElementById('firstboard').style.backgroundColor = '#000000';
                        document.getElementById('firstboard').style.opacity = '0.4';

                        time2 = parseInt('<%= Session["Timer2"] %>');
                        time1 = parseInt('<%= Session["Timer1"] %>');
                        document.getElementById('mainloader').style.display = 'none';
                        $('.progress-bar').animate({ top: '100%' }, 1);
                        time = 0;
                        var spc = '';
                       
                        timerStart(board);
                    }
                }


            }




                }
            
        }


        function exchangepoints(board)
        {
            var prevpoints1 = lblTeamScore1.innerHTML;
            var prevpoints2 = lblTeamScore2.innerHTML;
        

            if (board == 'second')
            {
                var x = lblp2.innerHTML;
                lblTeamScore1.innerHTML = eval(lblTeamScore1.innerHTML + "+" + lblTeamScore2.innerHTML);
               // store1.push(lblTeamScore1.innerHTML);
              
              
                
                board = 'first';
                if (startgame == 'start') {
                  lastv =  lblTeamScore2.innerHTML;
                enteredvalue = lblTeamScore1.innerHTML;
                caromcheck = lblTeamScore1.innerHTML;
                if (selectedaction != '') {
                    var prev = lblPrev1.innerHTML.substring(0, lblPrev1.innerHTML.length - 1);
                     lblTeamScore2.innerHTML = eval(lblTeamScore2.innerHTML + selectedaction + lblTeamScore1.innerHTML);
                     lblTeamScore1.innerHTML = prev;
                     selectedaction = '';
                }
                else {
                    var totalcal1 = lblPrev1.innerHTML + lblTeamScore1.innerHTML;
                    lblTeamScore1.innerHTML = eval(totalcal1);
                }
                var point = '<%= Session["Point"] %>';
                    ppoint1 = eval(point - lblTeamScore1.innerHTML);
                    lblp1.innerHTML = "P" + (eval(point - lblTeamScore1.innerHTML));
                    
                

                if (parseInt(lblTeamScore1.innerHTML) > parseInt(point)) {
                    var set = lbls1.innerHTML;
                    var resultset = set.substr(1, 1);
                    lbls1.innerHTML = "s" + (eval(parseInt(resultset) + 1)) + "/" + '<%= Session["Set"] %>';
                   
                }

                var tick = lblt2.innerHTML;
                var result = tick.substr(1);
                if ('<%= Session["Game"] %>' == 'Italian') {
                    lblt2.innerHTML = "t" + (eval(parseInt(result) + 1));
                }
                else if ('<%= Session["Game"] %>' == 'Carom') {
                    lblt2.innerHTML = "i" + (eval(parseInt(result) + 1));
                }
                cnt = cnt + 1;
                memory.push('&nbsp;' + "@" + lblTeamScore2.innerHTML + '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t' + cnt + '&nbsp;&nbsp;&nbsp;&nbsp;' + lblp1.innerHTML + '&nbsp;&nbsp;&nbsp;&nbsp;' + lbls1.innerHTML + '||' + 'darkorange');
               
                store1.push(lblTeamScore2.innerHTML);
                lblPrev1.innerHTML = '';

                if ('<%= Session["Game"] %>' == 'Italian') {
                    document.getElementById('secondboard').style.width = '0px';
                    document.getElementById('firstboard').style.width = '900px';
                    document.getElementById('firstboard').style.backgroundColor = '#000000';
                    document.getElementById('firstboard').style.opacity = '0.4';

                    time2 = parseInt('<%= Session["Timer2"] %>');
                    time1 = parseInt('<%= Session["Timer1"] %>');
                    document.getElementById('mainloader').style.display = 'none';
                    $('.progress-bar').animate({ top: '100%' }, 1);
                    time = 0;
                    var spc = '';
                    timerStart(board);
                   
                }
                else if ('<%= Session["Game"] %>' == 'Carom') {
                    if (parseInt(caromcheck) == 0) {
                        document.getElementById('secondboard').style.width = '0px';
                        document.getElementById('firstboard').style.width = '900px';
                        document.getElementById('firstboard').style.backgroundColor = '#000000';
                        document.getElementById('firstboard').style.opacity = '0.4';

                        time2 = parseInt('<%= Session["Timer2"] %>');
                        time1 = parseInt('<%= Session["Timer1"] %>');
                        document.getElementById('mainloader').style.display = 'none';
                        $('.progress-bar').animate({ top: '100%' }, 1);
                        time = 0;
                        var spc = '';
                        timerStart(board);
                    }
                }

                
                if (parseInt(lblTeamScore1.innerHTML) > parseInt(point)) {
                    lblWoS.innerHTML = 'Winner of Set';
                    lblName.innerHTML = lblPlayer1.innerHTML;
                    lblName1.innerHTML = lblPlayer2.innerHTML;
                    lblPoint.innerHTML = 'Point ' + lblTeamScore1.innerHTML + ' to ' + lblTeamScore2.innerHTML;
                    stopprogress();
                    
                    if (parseInt('<%= Session["Set"] %>') > 0) {
                        pl1 = pl1 + 1;
                        if (parseInt('<%= Session["Set"] %>') / 2 < pl1) {
                            stopprogress();
                            $("#resultclose").html('Setup Page');
                            lblWoS.innerHTML = 'Winner of the Game';
                            lblName.innerHTML = lblPlayer1.innerHTML;
                            lblPoint.innerHTML = pl1 + ' Sets to ' + pl2 + ' Set';
                            lblSet.innerHTML = 'last Set ' + lblTeamScore1.innerHTML + ' to ' + lblTeamScore2.innerHTML + ' points'
                            $("#resultclose").click(function () { window.location = "SetUp.aspx"; });
                        }
                        else {
                            stopprogress();
                            $("#resultclose").html('Next Set');
                            passboard = 'second';
                            if ('<%= Session["Game"] %>' == 'Italian') {
                                lblt1.innerHTML = 't0';
                                lblt2.innerHTML = 't0';
                                lblp1.innerHTML = "p" + '<%= Session["Point"] %>';
                                lblp2.innerHTML = "p" + '<%= Session["Point"] %>';
                            }
                            else if ('<%= Session["Game"] %>' == 'Carom') {
                                lblt1.innerHTML = 'i0';
                                lblt2.innerHTML = 'i0';
                                lblp1.innerHTML = "c" + '<%= Session["Point"] %>';
                                lblp2.innerHTML = "c" + '<%= Session["Point"] %>';
                            }
                            lblTeamScore1.innerHTML = '0';
                            lblTeamScore2.innerHTML = '0';
                            if (pl1 == pl2) {
                                document.getElementById('firstboard').style.width = '0px';
                                document.getElementById('secondboard').style.width = '0px';
                                lblStageStat.innerHTML = "Referee must start the last set";
                            }
                        }
                    }
                    else {
                        $("#resultclose").html('New Set');
                    }

                    $("#resulthover").fadeIn();
                    $("#resultpopup").fadeIn();
                    $("#resultclose").fadeIn();
                }
            }




                //      ScoreCalculation1('first');
               
                var  point = '<%= Session["Point"] %>';
                var x = lblp2.innerHTML.substring(1, lblp2.innerHTML.length);
              

                //                ScoreCalculation2('second');
              //  lblp2.innerHTML = "p" + eval(x + "+" + lblTeamScore2.innerHTML);
             
               
         
             
      
                lblTeamScore2.innerHTML = eval(lblPrev2.innerHTML + "-" + lblTeamScore2.innerHTML);

                lblp2.innerHTML = "P" + (eval(point - lblTeamScore2.innerHTML));

                ppoint2 = lblp2.innerHTML;

           
               // lblTeamScore2.innerHTML = lblPrev2.innerHTML.substring(0,lblPrev2.innerHTML.length-1);
                lblPrev2.innerHTML = '';
            }
            else if(board=='first')
            {
                enteredvalue = lblTeamScore2.innerHTML;
                lblTeamScore2.innerHTML = eval(lblTeamScore2.innerHTML + "+" + lblTeamScore1.innerHTML);

                board = 'second';
                if (startgame == 'start') {
                    lastv = lblTeamScore2.innerHTML;
                enteredvalue = lblTeamScore2.innerHTML;
                caromcheck = lblTeamScore2.innerHTML;
                if (selectedaction != '') {
                    var prev = lblPrev2.innerHTML.substring(0, lblPrev2.innerHTML.length - 1);
                     lblTeamScore1.innerHTML = eval(lblTeamScore1.innerHTML + selectedaction + lblTeamScore2.innerHTML);
                     lblTeamScore2.innerHTML = prev;
                     selectedaction = '';
                }
                else {
                    var totalcal2 = lblPrev2.innerHTML + lblTeamScore2.innerHTML;
                    lblTeamScore2.innerHTML = eval(totalcal2);
                }
               point = '<%= Session["Point"] %>';
                    ppoint2 = eval(parseInt(point) - parseInt(lblTeamScore2.innerHTML));
                    lblp2.innerHTML = "p" + (eval(point - lblTeamScore2.innerHTML));

                   

                if (parseInt(lblTeamScore2.innerHTML) > parseInt(point)) {
                    var set = lbls2.innerHTML;
                    var resultset = set.substr(1, 1);
                    lbls2.innerHTML = "s" + (eval(parseInt(resultset) + 1)) + "/" + '<%= Session["Set"] %>';
                   // lbls1.innerHTML = "s" + (eval(parseInt(resultset) + 1)) + "/" + '<%= Session["Set"] %>';
                }

                var tick = lblt1.innerHTML;
                var result = tick.substr(1);
                lblt1.innerHTML = "t" + (eval(parseInt(result) + 1));
                cnt = cnt + 1;
                memory.push('&nbsp;' +"@"+ lblTeamScore1.innerHTML + '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t' + cnt + '&nbsp;&nbsp;&nbsp;&nbsp;' + lblp2.innerHTML + '&nbsp;&nbsp;&nbsp;&nbsp;' + lbls2.innerHTML + '||' + 'white');
               
                store3.push(lblTeamScore1.innerHTML);
                lblPrev2.innerHTML = '';

                if ('<%= Session["Game"] %>' == 'Italian') {
                    document.getElementById('firstboard').style.width = '0px';
                    document.getElementById('secondboard').style.width = '900px';
                    document.getElementById('secondboard').style.backgroundColor = '#000000';
                    document.getElementById('secondboard').style.opacity = '0.4';

                    CCOUNT = parseInt('<%= Session["Timer1"] %>');
                    count = parseInt('<%= Session["Timer1"] %>');
                    document.getElementById('mainloader').style.display = 'none';
                    $('.progress-bar').animate({ top: '100%' }, 1);
                    time = 0;
                    var spc = '';
                    timerStart(board);
                }
                else if ('<%= Session["Game"] %>' == 'Carom') {
                    if (parseInt(caromcheck) == 0) {
                        document.getElementById('firstboard').style.width = '0px';
                        document.getElementById('secondboard').style.width = '900px';
                        document.getElementById('secondboard').style.backgroundColor = '#000000';
                        document.getElementById('secondboard').style.opacity = '0.4';

                        CCOUNT = parseInt('<%= Session["Timer1"] %>');
                        count = parseInt('<%= Session["Timer1"] %>');
                        document.getElementById('mainloader').style.display = 'none';
                        $('.progress-bar').animate({ top: '100%' }, 1);
                        time = 0;
                        var spc = '';
                        timerStart(board);
                    }
                }

                
                if (parseInt(lblTeamScore2.innerHTML) > parseInt(point)) {
                    lblWoS.innerHTML = 'Winner of Set';
                    lblName.innerHTML = lblPlayer3.innerHTML;
                    lblName1.innerHTML = lblPlayer4.innerHTML;
                    lblPoint.innerHTML = 'Point ' + lblTeamScore2.innerHTML + ' to ' + lblTeamScore1.innerHTML;
                    stopprogress();

                    if (parseInt('<%= Session["Set"] %>') > 0) {
                        pl2 = pl2 + 1;
                        if (parseInt('<%= Session["Set"] %>') / 2 < pl2) {
                            stopprogress();
                            $("#resultclose").html('Setup Page');
                            lblWoS.innerHTML = 'Winner of the Game';
                            lblName.innerHTML = lblPlayer3.innerHTML;
                            lblPoint.innerHTML = pl2 + ' Sets to ' + pl1 + ' Set';
                            lblSet.innerHTML = 'last Set ' + lblTeamScore2.innerHTML + ' to ' + lblTeamScore1.innerHTML + ' points'
                            $("#resultclose").click(function () { window.location = "SetUp.aspx"; });
                        }
                        else {
                            stopprogress();
                            $("#resultclose").html('Next Set');
                            passboard = 'first';
                            if ('<%= Session["Game"] %>' == 'Italian') {
                                lblt1.innerHTML = 't0';
                                lblt2.innerHTML = 't0';
                                lblp1.innerHTML = "p" + '<%= Session["Point"] %>';
                                lblp2.innerHTML = "p" + '<%= Session["Point"] %>';
                            }
                            else if ('<%= Session["Game"] %>' == 'Carom') {
                                lblt1.innerHTML = 'i0';
                                lblt2.innerHTML = 'i0';
                                lblp1.innerHTML = "c" + '<%= Session["Point"] %>';
                                lblp2.innerHTML = "c" + '<%= Session["Point"] %>';
                            }
                            lblTeamScore1.innerHTML = '0';
                            lblTeamScore2.innerHTML = '0';
                            if (pl1 == pl2) {
                                document.getElementById('firstboard').style.width = '0px';
                                document.getElementById('secondboard').style.width = '0px';
                                lblStageStat.innerHTML = "Referee must start the last set";
                            }
                        }
                    }
                    else {
                        $("#resultclose").html('New Set');
                    }

                    $("#resulthover").fadeIn();
                    $("#resultpopup").fadeIn();
                    $("#resultclose").fadeIn();
                }
            }



                var  point = '<%= Session["Point"] %>';
                var x = lblp1.innerHTML.substring(1, lblp1.innerHTML.length);
              

                //                ScoreCalculation2('second');
               // lblp1.innerHTML = "p" + eval(x + "+" + lblTeamScore1.innerHTML);
                lblTeamScore1.innerHTML = eval(lblPrev1.innerHTML + "-" + lblTeamScore1.innerHTML);
             
                  
             
                lblp1.innerHTML = "P" + (eval(point - lblTeamScore1.innerHTML));

                ppoint1 = lblp1.innerHTML;
               
                lblPrev1.innerHTML = '';
             }
        }
        function pointadd(type, pnts) {
            if (startgame == 'start') {
                if (pnts == '+' || pnts == '-') {
                    spc = '1';
                    cal = pnts;
                    stopprogress();
                }
                if (type == "first") {
                    var points = document.getElementById('<%=lblTeamScore1.ClientID%>').innerHTML;
                    var Prev1 = document.getElementById('<%=lblPrev1.ClientID%>').innerHTML;

                    if ((points.indexOf('+') != -1) || (points.indexOf('-') != -1)) {
                        
                        lblTeamScore1.innerHTML = points + pnts;
                    }
                    else if (points == '0') {
                        if (spc == '1') {
                            lblTeamScore1.innerHTML = '';
                            lblPrev1.innerHTML = pnts;
                        }
                    }
                    else {
                        if (spc == '1') {
                            lblPrev1.innerHTML = lblTeamScore1.innerHTML + pnts;
                            lblTeamScore1.innerHTML = '';
                        }
                        else {
                            if ((Prev1.indexOf('+') != -1) || (Prev1.indexOf('-') != -1)) {
                                if(points.length<3)
                                lblTeamScore1.innerHTML = points + pnts;
                            }
                        }
                    }
                }
                if (type == "second") {
                    if (pnts == '+' || pnts == '-') {
                        spc = '1';
                        stopprogress();
                    }
                    var points2 = document.getElementById('<%=lblTeamScore2.ClientID%>').innerHTML;
                    var Prev2 = document.getElementById('<%=lblPrev2.ClientID%>').innerHTML;

                    if ((points2.indexOf('+') != -1) || (points2.indexOf('-') != -1)) {
                        lblTeamScore2.innerHTML = points2 + pnts;
                    }
                    else if (points2 == '0') {
                        if (spc == '1') {
                            lblTeamScore2.innerHTML = '';
                            lblPrev2.innerHTML = pnts;
                        }
                    }
                    else {
                        if (spc == '1') {
                            lblPrev2.innerHTML = lblTeamScore2.innerHTML + pnts;
                            lblTeamScore2.innerHTML = '';
                        }
                        else {
                            if ((Prev2.indexOf('+') != -1) || (Prev2.indexOf('-') != -1)) {
                                if (points2.length < 3)
                                lblTeamScore2.innerHTML = points2 + pnts;
                            }
                        }
                    }
                }
                spc = '';
            }
        }
    </script>
    <script type="text/javascript">
        /* SET RANDOM LOADER COLORS FOR DEMO PURPOSES */
        var demoColorArray = ['red', 'blue', 'green', 'yellow', 'purple', 'gray'];
        var colorIndex = Math.floor(Math.random() * demoColorArray.length);
        //setSkin('red');

        // Stripes interval
        var stripesAnim;
        var calcPercent;

        var time2 = parseInt('<%= Session["Timer2"] %>');
        var time1 = parseInt('<%= Session["Timer1"] %>');
        var time = 0;
        $progress = $('.progress-bar');
        $percent = $('.percentage');
        $stripes = $('.progress-stripes');
        $stripes.text('-------------------------------');
        var ctype = '';
        function countdownstart(col) {
            if (col == "red") {
                ctype = "red";
            }
            if ((parseInt(time1) > 0) && (parseInt(time2) > 0)) {
                loaded = true;
                setSkin(col);
                $('.progress-bar').animate({ top: '0%' }, (parseInt(time1) * 1000));
                countdown();
                //// Call function to animate stripes
                stripesAnimate();
            }
        }
        function countdown() {
            // starts countdown
            if (time1 < 0) {
                // First time is up 
                if (time == 0) {
                    time++;
                    time1 = time2;
                    $('.progress-bar').animate({ top: '100%' }, 1);
                    countdownstart('red');
                }
                if ($(".percentage").text() == '0"') {
                    if (ctype == "red") {
                        $(".progress-bar").unbind("click");
                        $('.progress-bar').click(function () {
                            resettimer();
                        });
                    }
                }
            }
            else {
                $('.percentage').text(time1 + '"');
                time1--;
                t = setTimeout("countdown()", 1000);
            }
        };
        /* STRIPES ANIMATION */
        function stripesAnimate() {
            animating();
            stripesAnim = setInterval(animating, 100);
        }

        function animating() {
            $('.progress-stripes').animate({
                marginTop: "-=30px"
            }, 250, "linear").append('-');
        }

        function setSkin(skin) {
            document.getElementById("mainloader").className = "loader " + skin;
        }
        function stopprogress() {
            $('.progress-bar').stop();
            $('.percentage').text(time1 + '"');
            $('.progress-stripes').stop();
            clearTimeout(t);
        }

        var keytab = '';
        function showhistory(tab) {
            keytab = tab;
            stopprogress();
            $("#popup").find('span').remove();
            $("#popup").find('br').remove();
            for (var i = 0; i < memory.length; i++) {
                var color = memory[i].split('||');
                if (color[1] == 'white') {
                    $('<span style="color:while">' + color[0] + '</span></br>').appendTo('#popup');
                }
                else if (color[1] == 'darkorange') {
                    $('<span style="color:darkorange">' + color[0] + '</span></br>').appendTo('#popup');
                }
            }
            $("#hover").fadeIn();
            $("#popup").fadeIn();
            $("#close").fadeIn();
        }

        $(document).ready(function () {

            $("#hover").attr('style','display:none');
            $("#popup").attr('style', 'display:none');
            $("#close").attr('style', 'display:none');
            $("#resulthover").attr('style', 'display:none');
            $("#resultpopup").attr('style', 'display:none');
            $("#resultclose").attr('style', 'display:none');
            
            //chiusura al click sulla parte scura
            $("#hover").click(function () {
                $(this).fadeOut();
                $("#popup").fadeOut();
                timerStart(keytab);
                //location.reload();
            });

            //chiusura al click sul pulsante
            $("#close").click(function () {
                $("#hover").fadeOut();
                $("#popup").fadeOut();
                timerStart(keytab);
                //location.reload();
            });
            
            $("#resultclose").click(function () {
                var sets='<%= Session["Set"] %>';
                if (sets == '') {
                    location.reload();
                }
                else {
                    $("#resulthover").fadeOut();
                    $("#resultpopup").fadeOut();
                    time2 = parseInt('<%= Session["Timer2"] %>');
                    time1 = parseInt('<%= Session["Timer1"] %>');
                    document.getElementById('mainloader').style.display = 'none';
                    $('.progress-bar').animate({ top: '100%' }, 1);
                    time = 0;
                    var spc = '';
                    if (pl1 == pl2) {
                        document.getElementById('firstboard').style.width = '0px';
                        document.getElementById('secondboard').style.width = '0px';
                        stopprogress();
                    }
                    else {
                        timerStart(passboard);
                    }
                }
            });

        });

        var selectedaction = '';
       
        function resettimer() {
            document.getElementById('mainloader').style.display = 'none';
            $('.progress-bar').animate({ top: '100%' }, 1);
            time = 0;
            var spc = '';
            time2 = parseInt('<%= Session["Timer2"] %>');
            time1 = parseInt('<%= Session["Timer1"] %>');
            document.getElementById('mainloader').style.display = 'block';
            $(".progress-bar").unbind("click");
            countdownstart('blue');
        }
    </script>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18997513-2']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</head>
<body>
    <form id="form1" runat="server">
       <asp:ScriptManager ID="ScriptManager1" runat="server" EnablePageMethods = "true">
</asp:ScriptManager>
        <div id="bg">
            <table cellpadding="0" cellspacing="0" class="mainTable">
                <tr>
                    <td class="White center" style="width:800px">
                        <table style="margin:0px auto; text-align:left; font:18pt Arial; width:760px;">
                            <tr>
                                <td style="width:380px;">
                                    <asp:Label ID="lblPlayer1" runat="server" Text="Peppoin Beni"></asp:Label> - 
                                    <asp:Label ID="lblClub1" runat="server" Text="Club Stessi"></asp:Label>
                                </td>
                                <td style="vertical-align:bottom; width:20px;"></td>
                                <td style="width:380px;">
                                    <asp:Label ID="lblPlayer2" runat="server" Text="Bettin Luigi"></asp:Label> - 
                                    <asp:Label ID="lblClub2" runat="server" Text="Club Ireddo"></asp:Label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <asp:Image ID="imgPlayer1" runat="server" ImageUrl="~/img/logoscore.png" CssClass="profileimage" style="float:left;" />
                                    <div style="width: 28px; background-color: white; border-radius: 5px; height: 28px; text-align: center; vertical-align: bottom; float: left; color: black; margin: 50px 22px 0px; font-size:24px;">1</div>
                                    <asp:Image ID="imgClub1" runat="server" ImageUrl="~/img/logoscore.png" CssClass="clubimage" />
                                    
                                </td>
                                <td style="vertical-align:bottom; width:20px;"></td>
                                <td>
                                    <asp:Image ID="imgPlayer2" runat="server" ImageUrl="~/img/logoscore.png" CssClass="profileimage" style="float:left;" />
                                    <div style="width: 28px; background-color: white; border-radius: 5px; height: 28px; text-align: center; vertical-align: bottom; float: left; color: black; margin: 50px 22px 0px; font-size:24px;">3</div>
                                    <asp:Image ID="imgClub2" runat="server" ImageUrl="~/img/logoscore.png" CssClass="clubimage" />
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td class="center" style="width:390px; vertical-align:bottom; padding-bottom:3px;">
                        <asp:UpdatePanel ID="UpdatePanel1" runat="server">
                            <ContentTemplate>
                            <asp:Label ID="lblGameType" runat="server" Text="Italian Game" ForeColor="#00cc00" Font-Size="24pt" Font-Bold="true" Font-Names="Arial"></asp:Label><br />
                            <asp:Label ID="lblTime" runat="server" Text="00:00:00" ForeColor="#FFFFFF" Font-Size="24pt"></asp:Label>
                                <asp:Timer ID="Timer1" runat="server" Interval="1000" OnTick="Timer1_Tick"></asp:Timer>
                            </ContentTemplate>
                            <Triggers>
                                <asp:AsyncPostBackTrigger ControlID="Timer1" />
                            </Triggers>
                        </asp:UpdatePanel>
                        

                    </td>
                    <td class="Yellow center" style="width:800px">
                        <table style="margin:0px auto; text-align:right; font:18pt Arial; width:760px;">
                            <tr>
                                <td style="width:380px;">
                                    <asp:Label ID="lblClub3" runat="server" Text="Club Stessi"></asp:Label> - 
                                    <asp:Label ID="lblPlayer3" runat="server" Text="Bssorlin Bexi"></asp:Label>
                                    
                                </td>
                                <td style="vertical-align:bottom; width:20px;"></td>
                                <td style="width:380px;">
                                    <asp:Label ID="lblClub4" runat="server" Text="Club Stecca"></asp:Label> -
                                    <asp:Label ID="lblPlayer4" runat="server" Text="Bettdn Liuigi"></asp:Label>
                                    
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <asp:Image ID="imgPlayer3" runat="server" ImageUrl="~/img/logoscore.png" CssClass="profileimage" style="float:right;" />
                                    <div style="width: 28px; background-color: white; border-radius: 5px; height: 28px; text-align: center; vertical-align: bottom; float: right; color: black; margin: 50px 22px 0px; font-size:24px;">2</div>
                                    <asp:Image ID="imgClub3" runat="server" ImageUrl="~/img/logoscore.png" CssClass="clubimage" />
                                </td>
                                <td style="vertical-align:bottom; width:20px;"></td>
                                <td>
                                    <asp:Image ID="imgPlayer4" runat="server" ImageUrl="~/img/logoscore.png" CssClass="profileimage" style="float:right;" />
                                    <div style="width: 28px; background-color: white; border-radius: 5px; height: 28px; text-align: center; vertical-align: bottom; float: right; color: black; margin: 50px 22px 0px; font-size:24px;">4</div>
                                    <asp:Image ID="imgClub4" runat="server" ImageUrl="~/img/logoscore.png" CssClass="clubimage" />
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr style="height:550px;">
                    <td class="White center" style="vertical-align:top; height:100px;">
                        <div id="firstboard"></div>
                        <asp:Label ID="lblPrev1" runat="server" Text="" Font-Size="48pt" style="font-family: Arial; line-height:120px;"></asp:Label><br />
                        <asp:Label ID="lblTeamScore1" runat="server" Text="0" Font-Size="420pt" style="font-family:'ufonts.com_tw-cen-mt-condensed-medium';src: url('../Font/ufonts.com_tw-cen-mt-condensed-medium.ttf');  line-height:400px;"></asp:Label>
                    </td>
                    <td id='counter' rowspan="3" style="text-align:center;">
                        <div class="content">
                            <span id="lblTimeRemaining" class="count"></span>
                        </div>                        
                        <!-- actual preloader -->
	                    <div id="mainloader" class="loader">
                            <div class="percentage">0"</div>
		                    <div class="progress-bar"><div class="progress-stripes"></div></div>
	                    </div>
                        <span id="countdown" class="countdown"></span>
                        <span id="countdown2" class="countdown2"></span> 
                        
                        <asp:Image ID="imgLogo" runat="server"   ImageUrl="~/img/logoscorenew.png"  Width="180px" style="margin:750px auto 0px;margin-left: 1cm;" />
                        <asp:Label ID="lblStageStat" runat="server" Text="" Font-Size="25px" ForeColor="#ff0000"></asp:Label>
                        <asp:Label ID="lblSite"  runat="server" Text="biliardoprofessionale.it" Font-Names="Arial" Font-Size="24pt" ForeColor="#00ff00"></asp:Label>
                    </td>
                    <td class="Yellow center" style="vertical-align:top;">                        
                        <div id="secondboard"></div>
                        <asp:Label ID="lblPrev2" runat="server" Text="" Font-Size="48pt" style="font-family: Arial; line-height:120px;"></asp:Label><br />
                        <asp:Label ID="lblTeamScore2" runat="server" Text="0" Font-Size="420pt" style="font-family:'ufonts.com_tw-cen-mt-condensed-medium';src: url('../Font/ufonts.com_tw-cen-mt-condensed-medium.ttf'); line-height:400px;"></asp:Label>
                    </td>
                </tr>
                <tr>
                    <td class="White center" style="height:60px;">
                        <asp:Label ID="lblt1" runat="server" Text="t0" Font-Size="55pt" style="font-family: Arial;"></asp:Label> &nbsp; &nbsp; &nbsp;
                        <asp:Label ID="lblp1" runat="server" Text="p000" Font-Size="55pt" style="font-family: Arial;"></asp:Label> &nbsp; &nbsp; &nbsp;
                        <asp:Label ID="lbls1" runat="server" Text="s0/0" Font-Size="55pt" style="font-family: Arial;"></asp:Label>
                    </td>
                    <td class="Yellow center">
                        <asp:Label ID="lblt2" runat="server" Text="t0" Font-Size="55pt" style="font-family: Arial;"></asp:Label> &nbsp; &nbsp; &nbsp;
                        <asp:Label ID="lblp2" runat="server" Text="p000" Font-Size="55pt" style="font-family: Arial;"></asp:Label> &nbsp; &nbsp; &nbsp;
                        <asp:Label ID="lbls2" runat="server" Text="s0/0" Font-Size="55pt" style="font-family: Arial;"></asp:Label>
                    </td>
                </tr>
                <tr>
                    <td class="center">
                                             <table class="WhitePointTable">
                            <tr>
                                <td><input type="button" value="G" onClick="timerStart('first');" class="BtnCalculator"></td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" value="1" onClick="pointadd('first', '1');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="2" onClick="pointadd('first', '2');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="3" onClick="pointadd('first', '3');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td><input type="button" id="pl1arrow" value="?" onClick="exchangestart('first')" class="BtnCalculator"></td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="button" value="S" onClick="reset1();" class="BtnCalculator">
                                </td>
                                <td style="width:26px;"></td>
                                <td>
                                    <input type="button" value="4" onClick="pointadd('first', '4');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="5" onClick="pointadd('first', '5');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="6" onclick="pointadd('first', '6');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <ddiv>
                                    <input type="button" id="uparrow1" value="?" onclick="stateChange('first');" class="BtnCalculator">
                                </ddiv>
                                        </td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="button" value="M" onclick="showhistory('first');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;"></td>
                                <td>
                                    <input type="button" value="7" onClick="pointadd('first', '7');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="8" onClick="pointadd('first', '8');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="9" onClick="pointadd('first', '9');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" value="=" onClick="ScoreCalculation1('second');" class="BtnCalculator">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div id="tosetup1" style="width:69px; height:40px; padding-top:20px"><div class="circle"></div></div>
                                </td>
                                <td style="width:26px;"></td>
                                <td>
                                    <input type="button" value="-" onClick="pointadd('first', '-');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="0" onClick="pointadd('first', '0');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="+" onClick="pointadd('first', '+');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" value="C" onClick="resetscore1()" class="BtnCalculator">
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td class="center">
                        <table class="YellowPointTable">
                            <tr>
                                <td><input type="button" value="G" onClick="timerStart('second');" class="BtnCalculator"></td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" value="1" onClick="pointadd('second', '1');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="2" onClick="pointadd('second', '2');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="3" onClick="pointadd('second', '3');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td><input type="button" value="?" id="pl2arrow" onClick="exchangestart('second')" class="BtnCalculator"></td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="button" value="S" onClick="reset1();" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" value="4" onClick="pointadd('second', '4');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="5" onClick="pointadd('second', '5');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="6" onClick="pointadd('second', '6');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" id="uparrow2" value="?" onclick="stateChange('second');" class="BtnCalculator">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="button" value="M" onclick="showhistory('second');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" value="7" onClick="pointadd('second', '7');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="8" onClick="pointadd('second', '8');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="9" onClick="pointadd('second', '9');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" value="=" onClick="ScoreCalculation2('first');" class="BtnCalculator">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div id="tosetup2" style="width:69px; height:40px; padding-top:20px;"><div class="circle"></div></div>
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" value="-" onClick="pointadd('second', '-');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="0" onClick="pointadd('second', '0');" class="BtnCalculator">
                                </td>
                                <td>
                                    <input type="button" value="+" onClick="pointadd('second', '+');" class="BtnCalculator">
                                </td>
                                <td style="width:26px;">&nbsp;</td>
                                <td>
                                    <input type="button" value="C" onClick="resetscore2()" class="BtnCalculator">
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>        
        </div>
          <div id="hover"></div>

  <div id="popup">
    <div id="close">X</div>
    <p style="font-size: 24px; margin: 16px;">Memory details</p>
  </div>
        <div id="resulthover"></div>
    <div id="resultpopup">
    <p style="font-size: 24px; margin: 16px;line-height: 40px;">
        <asp:Label ID="lblWoS" runat="server" Text=""></asp:Label><br />
        <asp:Label ID="lblName" runat="server" Text=""></asp:Label><br />
        <asp:Label ID="lblName1" runat="server" Text=""></asp:Label><br />
        <asp:Label ID="lblPoint" runat="server" Text=""></asp:Label><br />
        <asp:Label ID="lblSet" runat="server" Text=""></asp:Label>
    </p>
    <div id="resultclose">NEW SET</div>
  </div>
        <asp:HiddenField ID="exchangestate" runat="server" Value="0"/>
        <asp:HiddenField ID="exarrow" runat="server" Value="0"/>
    </form>
</body>
</html>
dd